# Вставка, обновление и удаление данных в PostgreSQL и MySQL (8.0.16+)

## 1. INSERT: Общее правило

Вставка строки (`INSERT`) проверяет все ограничения таблицы:

- NOT NULL
- UNIQUE
- CHECK
- FOREIGN KEY
- Типы данных

Дле нескольких строк:
```sql
INSERT INTO users (username, age) VALUES 
    ('john', 20),
    ('Max', 22);
```

Дле одной строки:
```sql
INSERT INTO users (username, age) VALUE
    ('john', 20);
```

| Синтаксис                  | PostgreSQL         | MySQL                  |
|---------------------------|--------------------|------------------------|
| INSERT ... VALUES (...)   | ✅ Поддерживается   | ✅ Поддерживается       |
| INSERT ... VALUE (...)    | ❌ Ошибка           | ✅ Поддерживается       |


## 2. INSERT: Отличия PostgreSQL и MySQL

| Поведение                        | PostgreSQL                  | MySQL (InnoDB, 8.0.16+)    |
|----------------------------------|-----------------------------|----------------------------|
| CHECK                            | Проверяется всегда          | Проверяется после 8.0.16+  |
| Типы данных                      | Строгое соблюдение          | Более гибкая конвертация   |
| Автоинкремент                    | `SERIAL` или `IDENTITY`     | `AUTO_INCREMENT`           |

***

# UPDATE: Сходства и различия в PostgreSQL и MySQL

## 1. В общем и целом вставка одинакова

```
UPDATE имя_таблицы
SET имя_колонки1 = значение1,
    имя_колонки2 = значение2,
    ...
WHERE условие;
```
- Если WHERE отсутствует, изменяются все строки из таблицы.
- Изменение затрагивает только строки, удовлетворяющие условию.


#### Пример:
```sql
UPDATE users
SET age = 35, username = 'anonymous'
WHERE id > 5;
```

## 2. Различия при вставке в объединённые таблицы

#### PostgreSQL
```sql
UPDATE users
SET age = u2.age
FROM other_users u2
WHERE users.id = u2.id;
```

#### MySQL
```sql
UPDATE users
JOIN other_users u2 ON users.id = u2.id
SET users.age = u2.age;
```

***

# # Синтаксис DELETE

## 1. Общий синтаксис (для обеих СУБД)

```sql
DELETE FROM имя_таблицы
WHERE условие;
```
- Если WHERE отсутствует, удаляются все строки из таблицы.
- Удаление затрагивает только строки, удовлетворяющие условию.

