# üìã –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –¥–ª—è Docker Swarm

## üîπ –ö–ª–∞—Å—Ç–µ—Ä (Swarm)

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|:--------|:-----------|
| `docker swarm init` | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä (–Ω–∞ —Ç–µ–∫—É—â–µ–π –º–∞—à–∏–Ω–µ). |
| `docker swarm join` | –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç —É–∑–µ–ª –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–ª–∞—Å—Ç–µ—Ä—É. |
| `docker swarm leave` | –í—ã–≤–æ–¥–∏—Ç —É–∑–µ–ª –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞. (`--force` ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞) |
| `docker swarm join-token manager` | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞. |
| `docker swarm join-token worker` | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞. |
| `docker swarm update` | –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–∫—É—â–µ–≥–æ Swarm-–∫–ª–∞—Å—Ç–µ—Ä–∞. |
| `docker swarm ca` | –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —Ä–æ—Ç–∞—Ü–∏—è). |

---

## üîπ –£–∑–ª—ã (Nodes)

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|:--------|:-----------|
| `docker node ls` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞. |
| `docker node inspect <node>` | –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–∑–ª–µ. |
| `docker node update --availability active/drain/pause <node>` | –ò–∑–º–µ–Ω–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —É–∑–ª–∞ (–∞–∫—Ç–∏–≤–Ω—ã–π, –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏ —Ç.–¥.). |
| `docker node promote <node>` | –ü–æ–≤—ã—Å–∏—Ç—å —É–∑–µ–ª –¥–æ **manager**. |
| `docker node demote <node>` | –ü–æ–Ω–∏–∑–∏—Ç—å —É–∑–µ–ª –¥–æ **worker**. |
| `docker node rm <node>` | –£–¥–∞–ª–∏—Ç—å —É–∑–µ–ª –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞. |

---

## üîπ –°—Ç–µ–∫ (Stack)

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|:--------|:-----------|
| `docker stack deploy -c docker-compose.yml <stack_name>` | –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å—Ç–µ–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –≤ YAML-—Ñ–∞–π–ª–µ. |
| `docker stack ls` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–µ–∫–æ–≤. |
| `docker stack services <stack_name>` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Å—Ç–µ–∫–µ. |
| `docker stack ps <stack_name>` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ —Å—Ç–µ–∫–∞ (–∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã). |
| `docker stack rm <stack_name>` | –£–¥–∞–ª–∏—Ç—å —Å—Ç–µ–∫ —Ü–µ–ª–∏–∫–æ–º. |

---

## üîπ –°–µ—Ä–≤–∏—Å—ã (Service)

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|:--------|:-----------|
| `docker service create ...` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –≤—Ä—É—á–Ω—É—é. |
| `docker service ls` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ. |
| `docker service inspect <service>` | –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ. |
| `docker service ps <service>` | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á (—Ä–µ–ø–ª–∏–∫) —Å–µ—Ä–≤–∏—Å–∞. |
| `docker service update ...` | –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–∑, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫). |
| `docker service scale <service=replicas>` | –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å. |
| `docker service logs <service>` | –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞. |
| `docker service rm <service>` | –£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–∏—Å. |

---

## üîπ –ó–∞–¥–∞—á–∏ (Tasks)

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|:--------|:-----------|
| `docker service ps <service>` | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á —Å–µ—Ä–≤–∏—Å–∞. |
| `docker inspect <task_id>` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–µ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ). |

---

## üîπ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

> –í Swarm **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞—á —Å–µ—Ä–≤–∏—Å–∞, –Ω–æ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Ö –∫–∞–∫ –æ–±—ã—á–Ω–æ.

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|:--------|:-----------|
| `docker ps` | –í—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–≤–∫–ª—é—á–∞—è —Ç–µ, —á—Ç–æ –≤ Swarm). |
| `docker inspect <container_id>` | –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. |

**–í–∞–∂–Ω–æ:**  
–ò–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ Swarm –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –≤–∏–¥:  
```
<stack>_<service>.<replica_number>.<task_id>
```
–Ω–∞–ø—Ä–∏–º–µ—Ä: `mystack_web.1.abcd123456`

---

# üß† –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç—ã —Å Swarm

| –ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å | –ë–ª–æ–∫ –∫–æ–º–∞–Ω–¥ |
|:-------------------|:------------|
| –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä | `docker swarm init`, `docker node ls`, `docker swarm join` |
| –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | `docker stack deploy`, `docker stack services` |
| –£–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å–∞–º–∏ | `docker service ls`, `docker service scale`, `docker service update` |
| –£–ø—Ä–∞–≤–ª—è—Ç—å —É–∑–ª–∞–º–∏ | `docker node promote`, `docker node update`, `docker node rm` |
| –£–¥–∞–ª–∏—Ç—å –≤—Å—ë | `docker stack rm <stack_name>` |

