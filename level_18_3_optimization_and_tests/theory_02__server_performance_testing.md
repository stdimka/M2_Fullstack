## Технические требования к производительности сайте

1. Обработка запросов:
  - загрузка одного изображения (включая проверку, сохранение и генерацию имени) занимает не более 1 секунды.
  - система корректно обрабатывает до 10 одновременных запросов.
2. Раздача файлов:
  - Nginx возвращает изображения без задержек (время ответа не превышает 100 мс для локальных запросов).


## Шаг 1. Проверяем загрузку одного изображения за ≤1 секунду
Используем curl + встроенная команда time в Linux/macOS (Windows — через WSL)

    Подготовьте файл картинки, например image.jpg в текущей папке.

    Выполните команду:

time curl -F "file=@image.jpg" http://localhost:8000/upload

    -F "file=@image.jpg" — отправляем файл в поле file (подставьте имя вашего поля).

    Вы увидите вывод вашего сервера (например, OK) и после завершения — статистику времени, например:

real    0m0.850s
user    0m0.010s
sys     0m0.020s

    Что смотрим:
    Время real — общее время от запроса до ответа. Оно должно быть меньше 1 секунды.

## Шаг 2. Проверяем одновременную загрузку 10 файлов (наиболее простой способ)

Для простоты используем xargs + параллельные процессы (доступно почти в любом Linux/macOS).

    Создайте простой скрипт upload.sh с содержимым:
```
#!/bin/bash
curl -s -F "file=@image.jpg" http://localhost:8000/upload > /dev/null
echo "Done"
```

    Сделайте его исполняемым:

```
chmod +x upload.sh
```
    Запустите 10 параллельных загрузок:
```
time seq 10 | xargs -n1 -P10 ./upload.sh
```
где

    `seq 10` — создаёт числа от 1 до 10

    `xargs -n1 -P10` запускает по 10 процессов параллельно

    Что смотрим:
    Если все 10 загрузок проходят быстро (примерно по 1 секунде или меньше) и без ошибок, значит сервер справляется с 10 одновременными запросами.

## Шаг 3. Проверяем скорость отдачи файлов через Nginx (задержка < 100 мс)

    Выполните команду (замените URL на адрес вашего файла):

curl -o /dev/null -s -w "Time total: %{time_total}s\n" http:/localhost/images

    Что смотрим:
    Значение Time total — общее время ответа сервера. Должно быть меньше 0.1 секунды.

    Для проверки нескольких запросов подряд можно использовать простой цикл:

```
#!/bin/bash

total=0

for i in {1..10}; do
  time=$(curl -o /dev/null -s -w "%{time_total}" http://localhost/images)
  time_dot=$(echo "$time" | tr , .)
  echo "Request $i: ${time_dot}s"
  total=$(echo "$total + $time_dot" | bc)
done

echo "Total time: ${total}s"

```
## Итог:
| Шаг | Команда                                                  | Что проверяет                                     |
|-----|-----------------------------------------------------------|---------------------------------------------------|
| 1   | `time curl -F "file=@image.jpg" URL`                     | Время загрузки 1 файла ≤ 1 секунда                |
| 2   | `seq 10 \| xargs -n1 -P10 ./upload.sh`                   | Обработка 10 одновременных загрузок               |
| 3   | `curl -o /dev/null -s -w "%{time_total}s\n" URL`         | Скорость отдачи файла через Nginx ≤ 100 мс        |
