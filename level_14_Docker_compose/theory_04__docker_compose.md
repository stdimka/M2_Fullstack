# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `docker-compose.yml`

## 1. `version`

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è Docker Compose. –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –º–æ–≥—É—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

–ü—Ä–∏–º–µ—Ä:

version: '3.8'  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–µ—Ä—Å–∏—é 3.8 Docker Compose

–í–ù–ò–ú–ê–ù–ò–ï!  
–í –±–æ–ª–µ–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Docker Compose (–æ—Å–æ–±–µ–Ω–Ω–æ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ docker compose –≤–º–µ—Å—Ç–æ docker-compose) –≤–µ—Ä—Å–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π.  
–≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ Docker Compose —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é.

## 2. services

–û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑–¥–µ–ª, –≥–¥–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (—Å–µ—Ä–≤–∏—Å—ã), –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é Docker Compose.  
–°–µ—Ä–≤–∏—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏, —Ç–∞–∫ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π.

–í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- `image`: –ò–º—è –æ–±—Ä–∞–∑–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- `build`: –ü—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –∏–ª–∏ Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- `command`: –ö–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—ã–ø–æ–ª–Ω–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.
- `environment`: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- `ports`: –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –º–µ–∂–¥—É —Ö–æ—Å—Ç–æ–º –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.
- `volumes`: –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏–ª–∏ —Ç–æ–º–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
- `depends_on`: –£–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.
- `networks`: –£–∫–∞–∑—ã–≤–∞–µ—Ç —Å–µ—Ç–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å.
- `restart`: –ü–æ–ª–∏—Ç–∏–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–ü—Ä–∏–º–µ—Ä:
```
services:
  web:
    image: nginx:latest  # –û–±—Ä–∞–∑ Nginx
    ports:
      - "8080:80"  # –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞
    volumes:
      - ./html:/usr/share/nginx/html  # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    networks:
      - app-network  # –°–µ—Ç—å –¥–ª—è —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
    restart: always  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ —Å–±–æ—è—Ö

  db:
    image: postgres:latest  # –û–±—Ä–∞–∑ PostgreSQL
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
    volumes:
      - db-data:/var/lib/postgresql/data  # –¢–æ–º–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
    networks:
      - app-network
    restart: unless-stopped  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –µ—Å–ª–∏ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é
```

## 3. volumes

–¢–æ–º–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  
–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞–º–∏.

–í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: 
- `driver`: –£–∫–∞–∑—ã–≤–∞–µ—Ç –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è —Ç–æ–º–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è local.
- `driver_opts`: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥—Ä–∞–π–≤–µ—Ä–∞.
- `labels`: –ú–µ—Ç–∫–∏ –¥–ª—è —Ç–æ–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–º–æ–≤).

–ü—Ä–∏–º–µ—Ä:
```
volumes:
  db-data:  # –¢–æ–º –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö PostgreSQL
    driver: local  # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä
```

## 4. networks

–°–µ–∫—Ü–∏–∏ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–µ—Ç–µ–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.  
–°–µ—Ç–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.  
–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ —Å–µ—Ç—å, Docker Compose —Å–æ–∑–¥–∞—Å—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—â—É—é —Å–µ—Ç—å –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.


–í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `driver`: –¢–∏–ø —Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `bridge`, `host`, `none`).
- `driver_opts`: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥—Ä–∞–π–≤–µ—Ä–∞ —Å–µ—Ç–∏.
-`external`: –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–µ—Ç—å –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π.

–ü—Ä–∏–º–µ—Ä:
```
networks:
  app-network:
    driver: bridge  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä —Å–µ—Ç–∏
```

## 5. depends_on

–≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–æ–≥–æ.  
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ç–æ —Å–Ω–∞—á–∞–ª–∞ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º ‚Äî –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.

–ü—Ä–∏–º–µ—Ä:
```
services:
  web:
    image: nginx
    depends_on:
      - db  # –°–µ—Ä–≤–∏—Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç db
  db:
    image: postgres
```

## 6. build

–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–∑, —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `build`.  
–í –∫–æ—Ç–æ—Ä–æ–º –Ω–∞–¥–æ —É–∫–∞–∑–∞—Ç—å –µ –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏–ª–∏ `Dockerfile`.

–ü—Ä–∏–º–µ—Ä:
```
services:
  app:
    build: ./app  # –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ ./app
    ports:
      - "5000:5000"
```

## 7. command

–≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∑–∞–º–µ–Ω—è—è –∫–æ–º–∞–Ω–¥—É, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ `Dockerfile`.


–ü—Ä–∏–º–µ—Ä:
```
services:
  app:
    image: ubuntu
    command: ["echo", "Hello, World!"]  # –ö–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
```

## 8. restart

–≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–¥–∞–µ—Ç –ø–æ–ª–∏—Ç–∏–∫—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏.  
–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `no`: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è.
- `always`: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è.
- `on-failure`: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏.
- `unless-stopped`: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è, –µ—Å–ª–∏ –æ–Ω –Ω–µ –±—ã–ª –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é.

–ü—Ä–∏–º–µ—Ä:
```
services:
  web:
    image: nginx
    restart: always  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Å–µ–≥–¥–∞
```

## 9. logging

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤.  
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, –≥–¥–µ –∏ –∫–∞–∫ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

–ü—Ä–∏–º–µ—Ä:
```
services:
  web:
    image: nginx
    logging:
      driver: "json-file"  # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ json
      options:
        max-size: "10m"  # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥-—Ñ–∞–π–ª–∞
```

## 10. secrets 
–†–∞–∑–¥–µ–ª –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä–æ–ª–∏, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã) –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ–±—Ä–∞–∑–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.  
–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º.

–ü—Ä–∏–º–µ—Ä:
```
secrets:
  db_password:
    file: ./secrets/db_password.txt  # —Ñ–∞–π–ª —Å —Å–µ–∫—Ä–µ—Ç–æ–º

services:
  db:
    image: postgres
    secrets:
      - db_password
```

–í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db_password –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ —Ñ–∞–π–ª, –æ–±—ã—á–Ω–æ –ø–æ –ø—É—Ç–∏ `/run/secrets/db_password`.


## 11 configs 
–†–∞–∑–¥–µ–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ, –Ω–æ –≤–∞–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx, PostgreSQL –∏ —Ç. –¥.) –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã.  
–û–Ω–∏ —Ç–∞–∫–∂–µ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ —Ñ–∞–π–ª—ã, –Ω–æ –±–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–∞, –∫–∞–∫ —É `secrets.`

–ü—Ä–∏–º–µ—Ä:
```
configs:
  nginx_conf:
    file: ./nginx/nginx.conf

services:
  web:
    image: nginx
    configs:
      - source: nginx_conf
        target: /etc/nginx/nginx.conf  # –ø—É—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```
**‚ùó –í–∞–∂–Ω–æ:**

- secrets –∏ configs —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ Docker Swarm.
- –í –æ–±—ã—á–Ω–æ–º `docker-compose u`p –æ–Ω–∏ –Ω–µ –∞–∫—Ç–∏–≤–Ω—ã, –µ—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `docker stack deploy`.
- –û–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

###üí° –ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker Swarm:

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- .env —Ñ–∞–π–ª—ã (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)
- –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –æ–±—ã—á–Ω—ã–µ —Ç–æ–º–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
