# Fetch API

**Fetch API** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å JavaScript –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É.  
–û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ –º–æ—â–Ω—ã–π, –≥–∏–±–∫–∏–π –∏ —á–∏—Ç–∞–µ–º—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º XMLHttpRequest.

## Fetch –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã (GET, POST, PUT, DELETE –∏ –¥—Ä.)
- –ü–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- –†–∞–±–æ—Ç–∞—Ç—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (—á–µ—Ä–µ–∑ Promise)
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö: JSON, —Ç–µ–∫—Å—Ç, HTML, Blob, FormData –∏ –¥—Ä.

## –ù–µ–º–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏ ;-)

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤—É –æ—Ü–µ–Ω–∏—Ç—å –ø–ª—é—Å—ã Fetch API, —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ (—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ) –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

### –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ–¥—Ö–æ–¥ 1: XMLHttpRequest

```
const xhr = new XMLHttpRequest();
xhr.open("GET", "https://catfact.ninja/fact");

xhr.onload = function () {
    if (xhr.status === 200) {
        const response = JSON.parse(xhr.responseText);
        console.log("–§–∞–∫—Ç –æ –∫–æ—Ç–µ üê±:", response.fact);
        document.body.innerHTML += `<p>üê± ${response.fact}</p>`;
    } else {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:", xhr.status);
    }
};

xhr.onerror = function () {
    console.error("–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞");
};

xhr.send();
```

### üìå –ú–∏–Ω—É—Å—ã XMLHttpRequest:

- –ú–Ω–æ–≥–æ "—à—É–º–Ω–æ–≥–æ" –∫–æ–¥–∞ (—á–∞—Å—Ç–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–µ—Å—É—Ç —Å–º—ã—Å–ª–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –Ω–µ —Ä–µ—à–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∑–∞–¥–∞—á—É, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è):
  - xhr.open, xhr.onload, xhr.onerror, xhr.send ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–æ –Ω–µ –æ—Ç—Ä–∞–∂–∞—é—Ç —Å—É—Ç–∏ –∑–∞–¥–∞—á–∏
  - JSON.parse ‚Äî —Ç–æ–∂–µ –≤—Ä—É—á–Ω—É—é
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –≤—Ä—É—á–Ω—É—é

- –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Promise (—Å–ª–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å async/await)
- –ú–Ω–æ–≥–æ —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏: —Å—Ç–∞—Ç—É—Å, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ JSON, –æ—à–∏–±–∫–∏

### –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ–¥—Ö–æ–¥ 2: jQuery AJAX

–ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Å–∫—Ä–ø–∏—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Å—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É jquery:
`<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>`

```
$.ajax({
    url: "https://catfact.ninja/fact",
    method: "GET",
    success: function (data) {
        console.log("–§–∞–∫—Ç –æ –∫–æ—Ç–µ:", data.fact);
        document.body.innerHTML += `<p>üê± ${data.fact}</p>`;
    },
    error: function (xhr, status, error) {
        console.error("–û—à–∏–±–∫–∞:", error);
    }
});
```

### üìå –ú–∏–Ω—É—Å—ã jQuery $.ajax():

- –¢—Ä–µ–±—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ jQuery
- –ö–æ–¥ –ø—Ä–æ—â–µ, —á–µ–º XMLHttpRequest, –Ω–æ –≤—Å—ë –µ—â—ë –≥—Ä–æ–º–æ–∑–¥–∫–∏–π
- –µ –≤—Å—Ç—Ä–æ–µ–Ω –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç JavaScript

### –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: Fetch API

```
fetch("https://catfact.ninja/fact")
    .then(response => {
        if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ HTTP: " + response.status);
        return response.json();
    })
    .then(data => {
        console.log("–§–∞–∫—Ç –æ –∫–æ—Ç–µ:", data.fact);
        document.body.innerHTML += `<p>üê± ${data.fact}</p>`;
    })
    .catch(error => {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:", error);
    });
```

### üìå –ü–ª—é—Å—ã Fetch API:

- –õ–∞–∫–æ–Ω–∏—á–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Promise ‚Äî –ª–µ–≥–∫–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å
- –°–æ–≤–º–µ—Å—Ç–∏–º —Å async/await
- –í—Å—Ç—Ä–æ–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä—ã ‚Äî –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

### –¢–æ—Ç –∂–µ –≤–∞—Ä–∏–∞–Ω—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º async/await   

```
async function getCatFact() {
    try {
        const response = await fetch('https://catfact.ninja/fact');
        if (!response.ok) {
          throw new Error(`–û—à–∏–±–∫–∞ HTTP: ${response.status}`);
        }
        const data = await response.json();
        document.body.innerHTML += `<p>${data.fact}</p>`;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–∞–∫—Ç–∞:', error);
    }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
getCatFact();
```
